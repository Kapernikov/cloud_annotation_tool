name: cloud-annotation-tool
version: '0.1'
base: core20
summary: Single-line elevator pitch for your amazing snap
description: This is my-snap's description. You have a paragraph or two to tell the
grade: devel
confinement: devmode

apps:
  cloud-annotation-tool:
     command: desktop-launch cloud_annotation_tool

parts:
  vtk:
    plugin: cmake
    source: https://github.com/Kitware/VTK.git
    source-type: git
    source-branch: v8.2.0
    cmake-parameters:
      - -DCMAKE_BUILD_TYPE=Release 
      - -DBUILD_TESTING=OFF 
      - -DVTK_Group_Qt=ON 
      - -DVTK_Group_Rendering=ON 
      - -DVTK_Group_Views=ON 
      - -DVTK_Group_MPI=ON 
      - -DVTK_PYTHON_VERSION=3 
      - -DVTK_WRAP_PYTHON=OFF
      - -DCMAKE_INSTALL_PREFIX=/usr
    stage-packages:
      - qt5dxcb-plugin
      - libqt5gui5
      - libpng16-16
      - libqhull7
      - libqt5opengl5
      - libqt5x11extras5
      - libswscale5
      - libavformat58
      - libopenni0
      - libopenni2-0
      - python3-minimal
      - libxt6
      - libhwloc15
      - libltdl7
      - libopenmpi3
      - libpython3.9
    build-packages: 
      - build-essential 
      - cmake 
      - qttools5-dev-tools 
      - libqt5opengl5-dev 
      - qttools5-dev
      - libqt5x11extras5-dev 
      - libxt-dev
      - qtbase5-dev 
      - python3-dev 
      - python3-pip 
      - git 
      - wget
      - unzip 
      - yasm 
      - libpng-dev 
      - libavformat-dev 
      - libtiff-dev 
      - libswscale-dev 
      - llvm-dev 
      - libeigen3-dev 
      - libflann-dev 
      - libqhull-dev 
      - libopenni-dev 
      - libboost-dev
      - libboost-system-dev 
      - libboost-filesystem-dev 
      - libboost-thread-dev 
      - libboost-date-time-dev 
      - libboost-iostreams-dev

  pcl:
      after: [vtk]
      source: https://github.com/PointCloudLibrary/pcl
      source-type: git
      source-branch: master
      plugin: cmake
      stage-packages:
        - libusb-1.0-0
        - libglu1-mesa
        - libboost-chrono1.71.0
        - libboost-filesystem1.71.0
        - libboost-iostreams1.71.0
        - libboost-system1.71.0
        - libboost-thread1.71.0
        - libflann1.9
        
      build-packages:
        - libusb-dev 
        - libusb-1.0-0-dev
      cmake-parameters:
        - -DCMAKE_BUILD_TYPE=Release 
        - -DBUILD_features=ON 
        - -DBUILD_filters=ON 
        - -DBUILD_geometry=ON 
        - -DBUILD_search=ON 
        - -DBUILD_tools=ON 
        - -DBUILD_visualization=ON 
        - -DBUILD_tracking=ON 
        - -DBUILD_apps=ON 
        - -DPCL_QT_VERSION=5 
        - -DBUILD_apps_point_cloud_editor=ON
        - -DCMAKE_INSTALL_PREFIX=/usr

  annotationtool:
      after: [vtk, pcl]
      source: https://github.com/Kapernikov/cloud_annotation_tool
      source-type: git
      source-branch: master
      plugin: cmake
    
